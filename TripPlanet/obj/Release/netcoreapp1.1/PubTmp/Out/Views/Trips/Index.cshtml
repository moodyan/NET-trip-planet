@{
    ViewData["Title"] = "Trips";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<TripPlanet.Models.Trip>
<h2>Trips</h2>
@if (User.Identity.IsAuthenticated)
{
    <p>@Html.ActionLink("Create A New Trip", "Create")</p>
        @if(ViewBag.UserTrips.Count != 0)
        {
            @foreach (var trip in ViewBag.UserTrips)
            {
            <main class="cards">
                <article class="card">
                    @*<img src=@Html.DisplayFor(image => trip.Image) alt="Sample photo">*@
                    <div class="text">
                        <h3>@trip.Name</h3>
                        <p>@trip.BeginDate.Date</p>
                        <p>@trip.EndDate.Date</p>
                        <br />
                        <p>@Html.ActionLink("Delete", "Delete", new { id = trip.TripId })</p>
                        <p>@Html.ActionLink("Edit", "Edit", new { id = trip.TripId })</p>
                        <button>@Html.ActionLink("Trip Details", "Details", new { id = trip.TripId })</button>
                    
                    </div>
                </article>
            </main>
            }
        } else
        {
            <p>You have not created any trips.</p>
        }
} else
{
    <p>You must @Html.ActionLink("Register", "Index", "Account") before creating a trip.</p>
}